@model proyect.Models.ApiWeatherModel


<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">

    <link href="~/Styles/StyleClima.css" rel="stylesheet" type="text/css" />
</head>



<main class="clima-container">

    @if (Model != null)
    {
        var clima = Model.Weather[0].Description.ToLower();
        var imagen = "";

        //faltan imagenes

        if (clima.Contains("lluvia"))
        {
            imagen = Url.Content("~/imagenes/clima/lluviasuave.jpg");
        }
        else if (clima.Contains("nubes") || clima.Contains("nublado"))
        {
            imagen = Url.Content("~/imagenes/clima/cloud.jpg");
        }
        else if (clima.Contains("tormenta"))
        {
            imagen = Url.Content("~/imagenes/clima/lluvia.jpg");
        }
        else if (clima.Contains("cielo claro") || clima.Contains("despejado"))
        {
            imagen = Url.Content("~/imagenes/clima/clear.jpg");
        }
        else
        {
            imagen = Url.Content("~/imagenes/clima/clear.jpg");
        }

        string imagenMapa = Url.Content("~/imagenes/mapas/uruguay_default.png"); // imagen por defecto

        if (ViewBag.CiudadActual == "Maldonado")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/maldonado.png");
        }
        else if (ViewBag.CiudadActual == "Paysandú")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/paysandu.png");
        }
        else if (ViewBag.CiudadActual == "Soriano")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/soriano.png");
        }
        else if (ViewBag.CiudadActual == "Colonia,UY")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/colonia.png");
        }
        else if (ViewBag.CiudadActual == "Flores")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/flores.png");
        }
        else if (ViewBag.CiudadActual == "Florida,UY")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/florida.png");
        }
        else if (ViewBag.CiudadActual == "San José,UY")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/sanjose.png");
        }
        else if (ViewBag.CiudadActual == "Treinta y Tres")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/treintaytres.png");
        }
        else if (ViewBag.CiudadActual == "Durazno")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/durazno.png");
        }
        else if (ViewBag.CiudadActual == "Rocha")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/rocha.png");
        }
        else if (ViewBag.CiudadActual == "Tacuarembo")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/tacuarembo.png");
        }
        else if (ViewBag.CiudadActual == "Lavalleja")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/lavalleja.png");
        }
        else if (ViewBag.CiudadActual == "Rio Negro")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/rionegro.png");
        }
        else if (ViewBag.CiudadActual == "Canelones")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/canelones.png");
        }
        else if (ViewBag.CiudadActual == "Cerro Largo,UY")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/cerrolargo.png");
        }
        else if (ViewBag.CiudadActual == "Montevideo")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/montevideo.png");
        }
        else if (ViewBag.CiudadActual == "Salto")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/salto.png");
        }
        else if (ViewBag.CiudadActual == "Rivera")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/rivera.png");
        }
        else if (ViewBag.CiudadActual == "Artigas")
        {
            imagenMapa = Url.Content("~/imagenes/departamentos/artigas.png");
        }

<div class="clima-grid">
    <!-- Columna izquierda: Mapa -->
    <div class="clima-imagen-container">
        <img src="@imagenMapa" alt="Mapa de Uruguay con departamento resaltado" class="mapa-uruguay" />
    </div>

    <!-- Columna derecha: Info del clima -->
   <div class="clima-info">
    <h2>Clima actual en @Model.Name (@Model.Sys.Country)</h2>



    <div class="clima-detalle-grid">
        <!-- Columna izquierda: solo imagen del clima -->
        <div class="clima-detalle-imagen">

            <img src="@imagen" alt="Clima del día" class="icono-clima-grande" />
            <form method="get" asp-action="Clima">
                <select name="ciudad">
                    <option value="Maldonado" @(ViewBag.CiudadActual == "Maldonado" ? "selected" : "")>Maldonado</option>
                    <option value="Paysandú" @(ViewBag.CiudadActual == "Paysandú" ? "selected" : "")>Paysandú</option>
                    <option value="Soriano" @(ViewBag.CiudadActual == "Soriano" ? "selected" : "")>Soriano</option>
                    <option value="Colonia,UY" @(ViewBag.CiudadActual == "Colonia" ? "selected" : "")>Colonia</option>
                    <option value="Flores" @(ViewBag.CiudadActual == "Flores" ? "selected" : "")>Flores</option>
                    <option value="Florida,UY" @(ViewBag.CiudadActual == "Florida" ? "selected" : "")>Florida</option>
                    <option value="San José,UY" @(ViewBag.CiudadActual == "San José" ? "selected" : "")>San José</option>
                    <option value="Treinta y Tres" @(ViewBag.CiudadActual == "Treinta y Tres" ? "selected" : "")>Treinta y Tres</option>
                    <option value="Durazno" @(ViewBag.CiudadActual == "Durazno" ? "selected" : "")>Durazno</option>
                    <option value="Rocha" @(ViewBag.CiudadActual == "Rocha" ? "selected" : "")>Rocha</option>
                    <option value="Tacuarembo" @(ViewBag.CiudadActual == "Tacuarembo" ? "selected" : "")>Tacuarembó</option>
                    <option value="Lavalleja" @(ViewBag.CiudadActual == "Lavalleja" ? "selected" : "")>Lavalleja</option>
                    <option value="Rio Negro" @(ViewBag.CiudadActual == "Rio Negro" ? "selected" : "")>Río Negro</option>
                    <option value="Canelones" @(ViewBag.CiudadActual == "Canelones" ? "selected" : "")>Canelones</option>
                    <option value="Cerro Largo,UY" @(ViewBag.CiudadActual == "Cerro Largo" ? "selected" : "")>Cerro Largo</option>
                    <option value="Montevideo" @(ViewBag.CiudadActual == "Montevideo" ? "selected" : "")>Montevideo</option>
                    <option value="Salto" @(ViewBag.CiudadActual == "Salto" ? "selected" : "")>Salto</option>
                    <option value="Rivera" @(ViewBag.CiudadActual == "Rivera" ? "selected" : "")>Rivera</option>
                    <option value="Artigas" @(ViewBag.CiudadActual == "Artigas" ? "selected" : "")>Artigas</option>
                </select>
                <button type="submit">Buscar clima</button>
            </form>
        </div>

        <!-- Columna derecha: datos -->
        <div class="clima-detalle-datos">
            <div class="dato-clima">
                <img src="~/imagenes/clima/termometro.png" alt="Temperatura" class="icono-clima" />
                <span><strong>Temperatura:</strong> @Model.Main.Temp °C</span>
            </div>

            <div class="dato-clima">
                <img src="~/imagenes/clima/sensacion.jpg" alt="Sensación térmica" class="icono-clima" />
                <span><strong>Sensación térmica:</strong> @Model.Main.FeelsLike °C</span>
            </div>

            <div class="dato-clima">
                <img src="~/imagenes/clima/flechaDiagonal.jpg" alt="Viento" class="icono-clima" />
                <span><strong>Viento:</strong> @Model.Wind.Speed m/s</span>
            </div>

            <div class="dato-clima">
                <img src="~/imagenes/clima/humedad.png" alt="Humedad" class="icono-clima" />
                <span><strong>Humedad:</strong> @Model.Main.Humidity %</span>
            </div>
        </div>
    </div>
   

</div>
</div>
    }
    else
    {
        <p>No se pudo obtener la información del clima.</p>
    }



    <h2>asdfsadsadasdasdsadasdasdasdasd</h2>

</main>
    

    
 